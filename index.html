<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SGPA Calculator</title>
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1f4e8c">
</head>

<body>

<!-- Auto-apply user's saved theme -->
<script>
if (localStorage.getItem("theme") === "dark") {
    document.body.classList.add("dark");
}
// Auto-detect device theme (only first visit)
else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
    document.body.classList.add("dark");
}
</script>

<h1>Dynamic SGPA Calculator</h1>

<div class="button-row">
    <button onclick="addSubject()">Add Subject</button>
    <button onclick="calculateSGPA()">Calculate SGPA</button>
    <button onclick="saveData()">Save</button>
    <button onclick="loadData()">Load</button>
    <button onclick="toggleTheme()">Toggle Theme</button>
</div>

<table id="sgpaTable">
    <tr>
        <th>SUBJECT</th>
        <th>CIE</th>
        <th>SEE</th>
        <th>TOTAL</th>
        <th>CREDIT</th>
        <th>GRADE</th>
        <th>CONTRIBUTION</th>
        <th>DELETE</th>
    </tr>
</table>

<div id="sgpaBox">SGPA: --</div>

<script src="script.js"></script>

<!-- PWA Service Worker -->
<script>
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>
